<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta charset="utf-8">
    <title>Dealio</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="index.css">
</head>

<body>
    <div class="header">
        <img class="logo" src="./pics/SearchLogo.png" alt="search logo">
        <div>
            <h1>Dealio</h1>
            <h2>Santa Cruz, CA</h2>
            <div class="nav">
                <a href="#">Settings</a>
                <a href="#">Logout</a>
            </div>
        </div>
        <a href="profile.html"><img class="profile" src="./pics/profile-user.png" alt="profile"></a>
    </div>
    
<!--This section makes the search bar -->
    <br>
    <!-- Load icon library -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <!-- The form -->
    <form class="example" action="action_page.php">
        <input type="text" id="myInput" onkeyup="searchDeals(); searchEvents()" placeholder="Search..." name="search" >
        
<!--     This button is for opening the filters     -->
        <button class="open-button" onclick="openForm()">Filters</button>
    </form>
    <br>
    
    <div class="form-popup" id="filterForm">
<!--         Pretty sure this line is crashing the page -->
        <form action="/action_page.php" class="form-container">
<!--In here is where the filter stuff needs to be  -->

<!--             <label for="email"><b>Email</b></label> -->
<!--             <input type="text" placeholder="Enter Email" name="email" required> -->
<!--  -->
<!--             <label for="psw"><b>Password</b></label> -->
<!--             <input type="password" placeholder="Enter Password" name="psw" required> -->
<!--  -->
<!--             <button type="submit" class="btn">Login</button> -->
            
            <button type="button" class="btn cancel" onclick="closeForm()">Close</button>
        </form>
    </div>
    
<!--This script should help the form pop-up for filters   -->
<script>
function openForm() {
    document.getElementById("filterForm").style.display = "block";
}

function closeForm() {
    document.getElementById("filterForm").style.display = "none";
}
</script>
   
<!-- The following two scripts make the searching work for Deals/Events   -->
     <script>
        function searchDeals() {
            // Declare variables
            var input, filter, ul, li, h3, i, txtValue;
            input = document.getElementById('myInput');
            filter = input.value.toUpperCase();
            ul = document.getElementById("dealUL");
            li = ul.getElementsByTagName('li');

            // Loop through all list items, and hide those who don't match the search query
            for (i = 0; i < li.length; i++) {
                h3 = li[i].getElementsByTagName("h3")[0];
                txtValue = h3.textContent || h3.innerText;
                if (txtValue.toUpperCase().indexOf(filter) > -1) {
                    li[i].style.display = "";
                } else {
                    li[i].style.display = "none";
                }
            }
        }
        </script>
        
         <script>
            function searchEvents() {
                // Declare variables
                var input, filter, ul, li, h3, i, txtValue;
                input = document.getElementById('myInput');
                filter = input.value.toUpperCase();
                ul = document.getElementById("eventUL");
                li = ul.getElementsByTagName('li');

                // Loop through all list items, and hide those who don't match the search query
                for (i = 0; i < li.length; i++) {
                    h3 = li[i].getElementsByTagName("h3")[0];
                    txtValue = h3.textContent || h3.innerText;
                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                        li[i].style.display = "";
                    } else {
                        li[i].style.display = "none";
                    }
                }
            }
            </script>
        
    
    
    
    <div class="">
        <ul class="nav nav-tabs">
            <li class="active"><a data-toggle="tab" href="#deals">Deals</a></li>
            <li><a data-toggle="tab" href="#events">Events</a></li>
            <li><a data-toggle="tab" href="#submit">Submit</a></li>
        </ul>
        
    
        <div class="tab-content">
            <div id="deals" class="tab-pane fade in active">
                <ul id="dealUL">
                <li>
                <div class="post">
                    <div class="post_title">
                        <h3>BOGO @ Surfriders</h3>                       
                        <img class="verify" src="./pics/verify.png" alt="">
                        <img class="thumb" src="./pics/thumbsUp.png" alt=""> 
                    </div>
                    <p>Right now there's a two for one deal on burgers at Surfriders, that place downtown nearby Trader Joes. But it isn't a permanent thing, it's going to end pretty soon. ENDS: 5/31/2019 </p>
                </div>
                </li>

                
                <li>
                <div class="post">
                    <div class="post_title">
                       <h3>Deal Post 2</h3>
                        <img class="verify" src="./pics/verify.png" alt="">
                        <img class="thumb" src="./pics/thumbsUp.png" alt="">
                    </div>
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
                </div>
                </li>
                
                <li>
                <div class="post">
                    <div class="post_title">
                        <h3>Deal Post 3</h3>
                        <img class="verify" src="./pics/verify.png" alt="">
                        <img class="thumb" src="./pics/thumbsUp.png" alt="">
                    </div>
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
                </div>
                </li>
                
    </ul>
    
   
            </div>
            <div id="events" class="tab-pane fade">
            <ul id="eventUL">
            <li>
                <div class="post">
                    <div class="post_title">
                        <h3>Event Post 1</h3>
                        <img class="verify" src="./pics/verify.png" alt="">
                        <img class="thumb" src="./pics/thumbsUp.png" alt="">
                    </div>
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
                </div>
            </li>
             
            <li>
                    <div class="post">
                        <div class="post_title">
                            <h3>Flea Market</h3>
                            <img class="verify" src="./pics/verify.png" alt="">
                            <img class="thumb" src="./pics/thumbsUp.png" alt="">
                        </div>
                        <p>This months' flea market is in town this Sunday. There's usually a lot of weird stuff to look through like WWII knives. It's only there for a day, but it comes back every month if you miss it. ENDS 5/26/19</p>
                    </div>
            </li>
            </div>
            </ul>
            
            <div id="submit" class="tab-pane fade">
                <form class="form-horizontal space">
                    <div class="form-group">
                        <label class="control-label col-sm-2" for="title">Post Title: </label>
                        <div class="col-sm-10">
                            <input type="text" onsubmit="required()" class="form-control" id="title" placeholder="Enter title for post" name = "postTitle" required>
                        </div>
                    </div>
                    
                    <form class="form-horizontal space">
                        <div class="form-group">
                            <label class="control-label col-sm-2" for="title">Start Date & End Date (If Applicable): </label>
                            <div class="col-sm-10">
                                <input type="date" onsubmit="required()" class="form-control" id="title" placeholder="Enter any relevant start date" name = "startDate" >
                            <input type="date" onsubmit="required()" class="form-control" id="title" placeholder="Enter any relevant end date" name = "endDate" >
             
                            </div>
                        </div>
                        
                        <form class="form-horizontal space">
                            <div class="form-group">
                                <label class="control-label col-sm-2" for="title">Location: </label>
                                <div class="col-sm-10">
                                    <input type="text" onsubmit="required()" class="form-control" id="title" placeholder="Enter any relevant locations" name = "location" required>
                                </div>
                            </div>
                    
                    <div class="form-group">
                        <label class="control-label col-sm-2" for="descriptiom" >Description:</label>
                        <div class="col-sm-10">
                            <textarea onsubmit="required()" rows="4" cols="50" type="textbox" class="form-control" id="descriptiom" name = "postDescription" placeholder="Enter a description" required></textarea>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <div class="col-sm-offset-2 col-sm-10">
                            <div class="radio">
                                <label><input onsubmit="required()" name="type" type="radio" required> Deal</label>
                                <label><input onsubmit="required()" name="type" type="radio" required> Event</label>
                            </div>
                        </div>
                    </div>
                    
<!--                Need to change this so it makes actual keywords -->
                    <form class="form-horizontal space">
                        <div class="form-group">
                            <label class="control-label col-sm-2" for="title">Tags: </label>
                            <div class="col-sm-10">
                                <input type="text" onsubmit="required()" class="form-control" id="title" placeholder="Put in any relevant keywords" name = "tags" required>
                            </div>
                        </div>
                    
                    <div class="form-group">
                        <div class="col-sm-offset-2 col-sm-10">
                            <button type="submit" class="btn btn-default" onsubmit="required()" required>Submit</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
    
<!--This script should make sure something is filled out for submissions. It doesn't  -->
<script>
function required()
{
    var empt = document.forms["postTitle"]["postDescription"]["type"].value;
    if (empt == "")
    {
        alert("Please fill in every category");
    return false;
    }
    
    else 
    {
    alert('Congrats on finishing your submission! Our editors will review it soon.');
    return true; 
    }
}
</script>

</body>

</html>
